PART
{
    // --- general parameters ---
    name = mk2lpod
    module = CommandPod
    author = Yarbrough08, zer0Kerbal

    // --- asset parameters ---
    MODEL
    {
        model = YARD/MKII-L/Assets/MK2LPod
    }
    scale = 1.0
    rescaleFactor = 1.0

    // --- node definitions ---
    // definition format is Position X, Position Y, Position Z, Up X, Up Y, Up Z
    node_stack_bottom = 0, -2.231532, 0, 0.0, -1.0, 0.0, 2, 1

    // attachment rules: stack, srfAttach, allowStack, allowSrfAttach, allowCollision
    attachRules = 1,0,1,1,0

    // --- FX definitions ---

    // --- editor parameters ---
    TechRequired = start
    entryCost = 4000
    cost = 3200
    category = Pods
    subcategory = 0
    
    title = Mk. II-L Reusable Pod
    manufacturer = Yarbrough Aerospace Research & Development
    description = The Mk. II-L Reusable Pod represents the best engineering that the lowest bid can buy. Includes a built-in forward landing gear, as well as toggleable ramps to enter and exit the vehicle. Not to mention a semi-functional Thermal Protection System! When a particularly famous kerbanaut first inspected it, he was quoted as saying "I can't wait to crash test this thing!"
    

	tags = aero aircraft cmg command control ?eva fly gyro ?iva moment pilot plane react space stab steer torque yard mk2 mk2l yarbrough08
	// tags = #autoLOC_500327 //#autoLOC_500327 = aero aircraft cmg command control ?eva fly gyro ?iva moment pilot plane react space stab steer torque

    // --- standard part parameters ---
    mass = 2.625 // 5.25
    
    dragModelType = default
    maximum_drag = 0.1 // 0.3
    minimum_drag = 0.2 // 0.15
    angularDrag = 2
    
    crashTolerance = 45
    breakingForce = 50
    breakingTorque = 50
    
    maxTemp = 1400 // 3400
	skinMaxTemp = 2500
	emissiveConstant = 0.8
    
	vesselType = Plane // Ship
	bulkheadProfiles = mk2

    // --- pod/rcs parameters ---

    CrewCapacity = 3
    INTERNAL
    {
        name = GenericSpace3
    }

// Module Command
    MODULE
    {
        name = ModuleCommand
        minimumCrew = 1
		hasHibernation = true
		hibernation = false
		hibernateOnWarp = true
		hibernationMultiplier = 0.00125
		defaultControlPointDisplayName = #autoLOC_6011003 //#autoLOC_6011003 = Default
		RESOURCE
		{
			name = ElectricCharge
			rate = 0.005
		}
		CONTROLPOINT
		{
			name = reverse
			displayName = #autoLOC_6011004 //#autoLOC_6011004 = Reversed
			orientation = 0,0,180
		}
	}

    RESOURCE
    {
        name = ElectricCharge
        amount = 150
        maxAmount = 150
    }

    MODULE
    {
        name = ModuleReactionWheel
		actionGUIName = #autoLOC_502014 //#autoLOC_502014 = Toggle RW
        PitchTorque = 10.5
        YawTorque = 10.5
        RollTorque = 10.5

        RESOURCE
        {
            name = ElectricCharge
            rate = 0.35 // 1.05
        }
    }

//  Module SAS
	MODULE
	{
		name = ModuleSAS
		SASServiceLevel = 3
	}
    
// ModuleRCSFX
	MODULE
	{
		name = ModuleRCSFX
		thrusterTransformName = RCSthruster
		thrusterPower = 0.50
		resourceName = MonoPropellant
		resourceFlowMode = STAGE_PRIORITY_FLOW
		shieldCanThrust = false
		stagingEnabled = False
		runningEffectName = running
		atmosphereCurve
		{
			key = 0 260
			key = 1 100
			key = 4 0.001
		}
	}
	MODULE
	{
		name = ModuleScienceExperiment
		experimentID = crewReport
		experimentActionName = #autoLOC_502009 //#autoLOC_502009 = Crew Report
		resetActionName = #autoLOC_502010 //#autoLOC_502010 = Discard Crew Report
		reviewActionName = #autoLOC_502200 //#autoLOC_502200 = Review Report
		useStaging = False
		useActionGroups = True
		hideUIwhenUnavailable = True
		rerunnable = True
		xmitDataScalar = 1.0
		usageReqMaskInternal = 5
		usageReqMaskExternal = -1
	}

	MODULE
	{
		name = ModuleScienceContainer
		reviewActionName = #autoLOC_502201 //#autoLOC_502201 = Review Stored Data
		storeActionName = #autoLOC_502202 //#autoLOC_502202 = Store Experiments
		evaOnlyStorage = True
		storageRange = 3.0
	}

    RESOURCE
    {
        name = MonoPropellant
        amount = 125
        maxAmount = 125
    }

    MODULE
    {
        name = FlagDecal
        textureQuadName = Ramp1Flag
    }

    MODULE
    {
        name = FlagDecal
        textureQuadName = Ramp2Flag
    }

    MODULE
    {
        name = ModuleLandingGear
        animationName = LGanimation
    }

    MODULE
    {
        name = ModuleAnimateGeneric
        animationName = RampAnimation
        startEventGUIName = Ramp: Deploy
        endEventGUIName = Ramp: Raise
        toggleActionName = Toggle Ramps
        //availableInEVA = True
        //EVArange = 5
    }

	MODULE
	{
		name = ModuleColorChanger
		shaderProperty = _EmissiveColor
		animRate = 0.8
		animState = false
		useRate = true
		toggleInEditor = true
		toggleInFlight = true
		toggleInFlight = true
		unfocusedRange = 5
		toggleName = #autoLOC_502011 //#autoLOC_502011 = Toggle Lights
		eventOnName = #autoLOC_502012 //#autoLOC_502012 = Lights On
		eventOffName = #autoLOC_502013 //#autoLOC_502013 = Lights Off
		toggleAction = True
		defaultActionGroup = Light
		redCurve
		{
			key = 0 0 0 3
			key = 1 1 0 0
		}
		greenCurve
		{
			key = 0 0 0 1
			key = 1 1 1 0
		}
		blueCurve
		{
			key = 0 0 0 0
			key = 1 0.7 1.5 0
		}
		alphaCurve
		{
			key = 0 1
		}
	}

	MODULE
	{
		name = ModuleLiftingSurface
		useInternalDragModel = False
		deflectionLiftCoeff = 0.6
		dragAtMaxAoA = 0.1
		dragAtMinAoA = 0.03
	}
	
	MODULE
	{
		name = ModuleDataTransmitter
		antennaType = INTERNAL
		packetInterval = 1.0
		packetSize = 2
		packetResourceCost = 12.0
		requiredResource = ElectricCharge
		antennaPower = 5000
		optimumRange = 2500
		packetFloor = .1
		packetCeiling = 5
	}

	MODULE
    {
        name = ModuleInventoryPart
        InventorySlots = 2
        packedVolumeLimit = 150
    }


// ////////////////////////////

// RCSFX

	EFFECTS
	{
		running
		{
			AUDIO_MULTI_POOL
			{
				channel = Ship
				transformName = RCSthruster
				clip = sound_rocket_mini
				volume = 0.0 0.0
				volume = 0.1 0.0
				volume = 0.5 0.025
				volume = 1.0 0.1
				pitch = 0.0 0.75
				pitch = 1.0 1.5
				loop = true
			}
			MODEL_MULTI_PARTICLE
			{
				modelName = Squad/FX/Monoprop_small
				transformName = RCSthruster
				emission = 0.0 0.0
				emission = 0.1 0.0
				emission = 1.0 1.0
				speed = 0.0 0.8
				speed = 1.0 1.0
				localRotation = -90, 0, 0
			}
		}
	}
}
